<template lang='pug'>
Flex.home(width='100%' justify='center' height='100vh' align='center')
  .logo.big –í–∏–∫–∞.
  Flex.home_chat(col width='100%')
    .msg –ü—Ä–∏–≤–µ—Ç!üëã
    .msg
      |–ú–µ–Ω—è –∑–æ–≤—É—Ç –í–∏–∫–∞, —è —Å–æ–±—Ä–∞–ª–∞ –¥–ª—è —Ç–µ–±—è —Å—Ç–∞—Ç—å–∏, —Ç–µ—Å—Ç—ã –∏ –∫—É—Ä—Å—ãüòâ
      |–ú–æ—è —Ü–µ–ª—å —Å–¥–µ–ª–∞—Ç—å –ø–æ–∏—Å–∫ –Ω—É–∂–Ω—ã—Ö –º–∞—Ç–µ—Ä—å—è–ª–æ–≤ —É–¥–æ–±–Ω—ã–º, –∞ –æ–±—É—á–µ–Ω–∏–µ –ø—Ä–∏—è—Ç–Ω—ã–ºüòá
    button(v-if='user' @click='open("base")') –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
    .msg(v-if='!user') –¢–æ–ª—å–∫–æ —Å–Ω–∞—á–∞–ª–∞ –∞–≤—Ç–æ—Ä–∏–∑–∏—Ä—É–π—Å—è.
    input.ask(v-if='!user' placeholder='–õ–æ–≥–∏–Ω')
    input.ask(v-if='!user' type='password' placeholder='–ü–∞—Ä–æ–ª—å')
    button(v-if='!user' @click='auth') –í–æ–π—Ç–∏
    //- input.ask(v-on:keyup.enter="search" placeholder='–°–ø—Ä–æ—Å–∏ —É –í–∏–∫–∏' v-model='query')
</template>

<script>
// import axios from 'axios';

export default {
  name: 'Home',
  components: {
    Flex: () => import('@/components/Utils/Flex.vue'),
  },
  data() {
    return {
      query: null,
      login: null,
      password: null,
    };
  },
  computed: {
    user() {
      return this.$store.state.user;
    },
  },
  methods: {
    open(rout) {
      this.$router.push(rout);
    },
    search() {
      this.$router.push(`search/${this.query}`);
    },
    auth() {
      this.$store.dispatch('setLoad', true);
      // axios
      //   .post('url auth', {
      //     login: this.login,
      //     password: this.password,
      //   })
      //   .then((res) => {
      //     this.$store.dispatch('setUser', res.data)
      //     this.$store.dispatch('setLoad', false);
      //     this.$router.push('lk');
      //   });
      this.$store.dispatch('setUser', {
        id: 1,
        name: '–ë–∞—Ç—É–∫–æ–≤ –°.',
        specialization: 'Frontend Developer',
        // role: '–ù–æ–≤—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫',
        role: '–ù–∞—Å—Ç–∞–≤–Ω–∏–∫',
        bal: 0,
        courses: [1, 2],
        complite: {
          articles: [1],
          courses: [],
          tests: [
            // { id: 1, bal: 5 },
          ],
        },
        medals: ['üëã', 'üë©‚ÄçüöÄ', 'ü¶∏‚Äç‚ôÇÔ∏è'],
        contacts: 'sashachepuha@gmail.com',
      });
      this.$store.dispatch('setLoad', false);
      this.$router.push('lk');
    },
  },
};
</script>
<style lang="less">
.big {
  font-size: 100px;
}
.home {
  flex-wrap: wrap;
  max-width: 1000px;
  margin: auto;
  height: 100vh;
  &_chat {
    max-width: 500px;
    margin: auto;
    height: 100vh;
  }
}
.ask {
  align-self: flex-end;
  background: var(--bg_200);
  color: var(--text_200);
  width: 80%;
  max-width: 80%;
  padding: 10px;
  border-radius: 20px;
  letter-spacing: 0px;
  font-weight: 300;
  font-size: 14px;
  color: var(--text_300);
  &::placeholder {
    color: var(--text_300);
  }
  &:focus {
    background: var(--bg_200);
  }
}
.msg {
  display: flex;
  gap: 10px;
  align-items: flex-end;
  color: var(--text_200);
  width: max-content;
  max-width: 70%;
  padding: 10px;
  border-radius: 4px 20px 20px 20px;
  letter-spacing: 0px;
  font-size: 14px;
  font-weight: 500;
  color: var(--text_0);

  border: 1px solid rgba(247, 214, 255, 0.8);
  background: var(--bg_500);
}
</style>
